@tailwind base;
@tailwind components;
@tailwind utilities;

/* 安全区域变量 */
@layer base {
  :root {
    --safe-area-top: env(safe-area-inset-top, 0px);
    --safe-area-bottom: env(safe-area-inset-bottom, 0px);
    --safe-area-left: env(safe-area-inset-left, 0px);
    --safe-area-right: env(safe-area-inset-right, 0px);
  }

  /* 应用顶部安全区域 */
  body {
    padding-top: var(--safe-area-top);
    padding-bottom: var(--safe-area-bottom);
    padding-top: constant(safe-area-inset-top);
    padding-top: env(safe-area-inset-top);
    padding-bottom: constant(safe-area-inset-bottom);
    padding-bottom: env(safe-area-inset-bottom);
    min-height: 100vh;
  }
}

@layer utilities {
  .modal-ease {
    transition-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
  }

  .drawer-overlay {
    background-color: rgba(15, 23, 42, 0);
    backdrop-filter: blur(0px);
    -webkit-backdrop-filter: blur(0px);
    opacity: 0;
    pointer-events: none;
    transition-property: opacity, background-color, backdrop-filter, -webkit-backdrop-filter;
    transition-duration: 420ms;
    transition-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
  }

  .drawer-overlay[data-open="true"] {
    background-color: rgba(15, 23, 42, 0.45);
    backdrop-filter: blur(14px);
    -webkit-backdrop-filter: blur(14px);
    opacity: 1;
    pointer-events: auto;
  }

  .modal-overlay {
    background-color: rgba(15, 23, 42, 0);
    backdrop-filter: blur(0px);
    -webkit-backdrop-filter: blur(0px);
    opacity: 0;
    pointer-events: none;
    transition-property: opacity, background-color, backdrop-filter, -webkit-backdrop-filter;
    transition-duration: 420ms;
    transition-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
  }

  .modal-overlay[data-open="true"] {
    background-color: rgba(15, 23, 42, 0.45);
    backdrop-filter: blur(14px);
    -webkit-backdrop-filter: blur(14px);
    opacity: 1;
    pointer-events: auto;
  }

  .modal-surface {
    opacity: 0;
    transform: translateY(12px) scale(0.97);
    box-shadow: 0 25px 60px rgba(15, 23, 42, 0.35);
    transition-property: opacity, transform, box-shadow;
    transition-duration: 420ms;
    transition-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
  }

  .modal-surface[data-open="true"] {
    opacity: 1;
    transform: translateY(0) scale(1);
    box-shadow: 0 35px 90px rgba(15, 23, 42, 0.4);
  }

  .modal-scroll {
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  .modal-scroll::-webkit-scrollbar {
    display: none;
  }

  /* 安全区域工具类 */
  .pt-safe {
    padding-top: var(--safe-area-top);
  }

  .pb-safe {
    padding-bottom: var(--safe-area-bottom);
  }

  .px-safe {
    padding-left: var(--safe-area-left);
    padding-right: var(--safe-area-right);
  }

  .p-safe {
    padding-top: var(--safe-area-top);
    padding-bottom: var(--safe-area-bottom);
    padding-left: var(--safe-area-left);
    padding-right: var(--safe-area-right);
  }
}